!function(t){var e=0;t.isSmartSidebar=function(e){return!!t(e).data("SmartSidebar")},t.SmartSidebar=function(n,o){function i(){u=f.offset(),h=t('<div id="'+b+'" class="'+o.railClass+'" style="overflow:hidden;position:fixed;padding:1px;bottom:0;pointer-events:none;"></div>'),v=t('<div class="top-offset" style="margin:0;padding:0;pointer-events:none;"></div>'),g=t('<div class="bottom-offset" style="margin:0;padding:0;pointer-events:none;"></div>'),m=t('<div class="bottom-gap" style="margin:0;padding:0;pointer-events:none;"></div>'),h.css({left:u.left+"px"}),f.before(h),S=Math.max(u.top-parseInt(h.css("top")),0),v.css({height:S+"px"}),h.append(v),h.append(f),h.append(g),h.append(m)}function s(){h.replaceWith(f)}function r(){if(!l())return p.off("scroll",r);r.lastScrollTop=r.lastScrollTop||0;var t=g.height(),e=p.scrollTop(),n=e-r.lastScrollTop,i=h.scrollTop()+n;r.lastScrollTop=e,S>i&&(i=S>e?e:S);var s=!o.saveBottomOffset&&d.height()-p.height()-e>t;s?(g.hide(),m.css({height:h.height()-f.outerHeight(!0)+"px"})):(g.show(),m.css({height:h.height()-f.outerHeight(!0)-t+"px"})),h.scrollTop(i)}function a(t){t=t||0,t>=0&&l()&&(r(),setTimeout(function(){a(t-1)},100))}function l(){return t("#"+b).length}function c(t,e){function n(r){r===s?(t.apply(i,o),s=0):setTimeout(function(){n(s)},e)}var o,i,s=0;return function(){s++,o=Array.prototype.slice.call(arguments),i=this,1===s&&n(0)}}o=o||{},o.railClass=(o.railClass?o.railClass+" ":"")+"sidebar-rail",o.saveBottomOffset=!!o.saveBottomOffset;var p=t(window),d=t(window.document.body),f=t(n);f.data("SmartSidebar",!0).css({"pointer-events":"all"});var u,h,v,g,m,S,b="ssr"+ ++e;i(),a(200),p.on("scroll",r),p.on("resize",c(function(){s(),i(),a(1)},500))},t.fn.smartSidebar=function(e){return this.each(function(){return t.SmartSidebar(this,e)})}}(jQuery);