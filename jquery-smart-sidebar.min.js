!function(t){var n=0;t.isSmartSidebar=function(n){return!!t(n).data("SmartSidebar")},t.SmartSidebar=function(i,e){function o(){w=x.height(),C=Math.max(g.top-w,0),T.css({height:C+"px"})}function a(){z=M.height(),y=S.height(),b=v.outerHeight(!0),A=Math.max(y-b-z,0),j.height(A)}function r(t){setTimeout(function(){s(),p(t)},10)}function s(){g=v.offset(),S=t('<div id="'+H+'" class="'+e.railClass+'" style="overflow:hidden;position:fixed;padding:1px;top:0;bottom:0;pointer-events:none;"></div>'),T=t('<div class="top-gap" style="margin:0;padding:0;pointer-events:none;"></div>'),x=t('<div class="top-offset" style="margin:0;padding:0;pointer-events:none;"></div>'),M=t('<div class="bottom-offset" style="margin:0;padding:0;pointer-events:none;"></div>'),j=t('<div class="bottom-gap" style="margin:0;padding:0;pointer-events:none;"></div>'),S.css({left:g.left+"px"}),v.before(S),o(),a(),S.append(T),S.append(x),S.append(v),S.append(M),S.append(j)}function d(){S.replaceWith(v)}function l(){if(S){if(!c())return u.off("scroll",l);m=m||0;var t=u.scrollTop(),n=t-m,i=S.scrollTop()+n;m=t,o(),a();var e=w+C,r=e&&h.height()-u.height()-t;if(t>e&&C>i&&(i=C),t>e&&i>e&&r>z&&y>b&&(i=e),i>e&&r>z){var s=C+w+b-y;i>s&&(i=s)}S.scrollTop(i)}}function p(t){t=t||0,t>=0&&c()&&(l(),setTimeout(function(){p(t-1)},100))}function c(){return t("#"+H).length}function f(t,n){function i(r){r===a?(t.apply(o,e),a=0):setTimeout(function(){i(a)},n)}var e,o,a=0;return function(){a++,e=Array.prototype.slice.call(arguments),o=this,1===a&&i(0)}}e=e||{},e.railClass=(e.railClass?e.railClass+" ":"")+"sidebar-rail";var u=t(window),h=t(window.document.body),v=t(i);v.data("SmartSidebar",!0).css({"pointer-events":"all"});var g,m,b,S,y,x,T,w,C,M,j,z,A,H="ssr"+ ++n;r(50),u.on("scroll",l),u.on("resize",f(function(){d(),r(1)},500))},t.fn.smartSidebar=function(n){return this.each(function(){return t.SmartSidebar(this,n)})}}(jQuery);