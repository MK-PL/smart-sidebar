!function(t){var n=0;t.isSmartSidebar=function(n){return!!t(n).data("SmartSidebar")},t.SmartSidebar=function(i,e){function o(){y=b.height(),T=Math.max(u.top-y,0),S.height(T),C=w.height(),m=g.height(),x.height(m),h=f.outerHeight(!0),M=Math.max(m-h-C,0)}function a(){u=f.offset(),g=t('<div id="'+j+'" class="'+e.railClass+'" style="overflow:hidden;position:fixed;padding:1px;top:0;bottom:0;pointer-events:none;"></div>'),S=t('<div class="top-gap" style="margin:0;padding:0;pointer-events:none;"></div>'),b=t('<div class="top-offset" style="margin:0;padding:0;pointer-events:none;"></div>'),w=t('<div class="bottom-offset" style="margin:0;padding:0;pointer-events:none;"></div>'),x=t('<div class="bottom-gap" style="margin:0;padding:0;pointer-events:none;"></div>'),g.css({left:u.left+"px"}),f.before(g),o(),g.append(S),g.append(b),g.append(f),g.append(w),g.append(x)}function r(){g.replaceWith(f)}function s(){if(g&&d()){v=v||0;var t=p.scrollTop(),n=t-v,i=g.scrollTop()+n;v=t,o();var e=y+T;if(e>t)return void g.scrollTop(t);var a=e&&c.height()-p.height()-t;if(t>T&&T>i&&(i=T),t>e&&i>e&&a>C&&m>h&&(i=e),i>e&&a>C){var r=T+y+h-m;i>r&&(i=r)}if(C>a){var r=T+y+h+C+M-m;i>r&&(i=r)}g.scrollTop(i)}}function d(){return t("#"+j).length?!0:(p.off("scroll",s),!1)}function l(t,n){function i(r){r===a?(t.apply(o,e),a=0):setTimeout(function(){i(a)},n)}var e,o,a=0;return function(){a++,e=Array.prototype.slice.call(arguments),o=this,1===a&&i(0)}}e=e||{},e.railClass=(e.railClass?e.railClass+" ":"")+"sidebar-rail";var p=t(window),c=t(window.document.body),f=t(i);f.data("SmartSidebar",!0).css({"pointer-events":"all"});var u,v,h,g,m,b,S,y,T,w,x,C,M,j="ssr"+ ++n;setTimeout(function(){a(),s(),p.on("scroll",s),p.on("resize",l(function(){r(),setTimeout(function(){a(),s()},10)},500))},10)},t.fn.smartSidebar=function(n){return this.each(function(){return t.SmartSidebar(this,n)})}}(jQuery);